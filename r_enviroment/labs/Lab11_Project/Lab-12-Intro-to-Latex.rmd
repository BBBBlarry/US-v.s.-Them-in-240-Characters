---
title: "Lab 12 - Intro to LaTeX"
author: "Bree Bang-Jensen"
date: "1/22/2020"
output: html_document
---
Thanks again to Emma Rodman for the use of this data and paper and for creating these labs.

```{r setup, include = FALSE}
load("R_WA_data.RData")
library(stargazer)
```

##Stargazer

Stargazer is a package that outputs your regression results or summary statistics into the pretty tables that you see in all of the journal articles that you've been reading. It will spit them out as either LaTeX code or as HTML or as ASCII text.

You can read all about it and all of its options here: https://cran.r-project.org/web/packages/stargazer/vignettes/stargazer.pdf

Here's an example of how you can use it to create a table comparing results across, in this case, four model formulations.

```{r models, message = FALSE, warning = FALSE}
model1 <- lm(DfemChalCanCount ~ DIfemDummy + DfemIyrsCount +
               ideology + wfd_distsize + wfd_urban + wfd_afam + wfd_hisp +
               wfd_forborn + wfd_relincome + wfd_college + wfd_schoolage +
               wfd_bcpct_const + rep_pres_vote + open_seat + DsenRace, data = WA_data)
model2 <- lm(DfemChalCanCount ~ DIfemCount + DfemIyrsCount +
               ideology + wfd_distsize + wfd_urban + wfd_afam + wfd_hisp +
               wfd_forborn + wfd_relincome + wfd_college + wfd_schoolage +
               wfd_bcpct_const + rep_pres_vote + open_seat + DsenRace, data = WA_data)
model3 <- lm(DfemChalCanCount ~ DIfemCanCount + DfemIyrsCount +
               ideology + wfd_distsize + wfd_urban + wfd_afam + wfd_hisp +
               wfd_forborn + wfd_relincome + wfd_college + wfd_schoolage +
               wfd_bcpct_const + rep_pres_vote + open_seat + DsenRace, data = WA_data)
model4 <- lm(DfemChalCanCount ~ DIfemLameDuckCount + DfemIyrsCount +
               ideology + wfd_distsize + wfd_urban + wfd_afam + wfd_hisp +
               wfd_forborn + wfd_relincome + wfd_college + wfd_schoolage +
               wfd_bcpct_const + rep_pres_vote + open_seat + DsenRace, data = WA_data)
```

What we'd like is the ability to look at all of these results together, to present various specifications and make a case for our theory. Stargazer lets us do that.

```{r model_compare}
stargazer(model1, model2, model3, model4, 
          title = "Model Comparisons of Different Dependent Variable Formulations",
          dep.var.labels = "Count of female challenger candidates, by district",
          covariate.labels=c("Female Incumbents, Dummy",
                             "Female Incumbents, Count",
                             "Fem. Incum. Candidates, Count",
                             "Fem. Incum. Lame Ducks, Count",
                             "Years of Fem. Incum. Since 1981",
                             "District Ideology", "District Size", "Urbanization", 
                             "African American Pop.",
                             "Hispanic Pop.", "Foreign Born Pop.", "Relative Income in District",
                             "College Educated Pop.", "% School Age Children", 
                             "Blue Collar Workers Pop.", 
                             "Republican Presidential Vote in District",
                             "Open Seat Race in District", "State Senate Race in District"),
          type = "latex", align = TRUE, no.space = TRUE)
```

Stargazer will also spit out pretty tables for your summary statistics or correlation tables, like so:

```{r tables}
controls <- as.data.frame(cbind(WA_data$ideology, WA_data$wfd_distsize, WA_data$wfd_urban,   
                                WA_data$wfd_afam, WA_data$wfd_hisp, WA_data$wfd_forborn, 
                                WA_data$wfd_relincome, WA_data$wfd_college, 
                                WA_data$wfd_schoolage, WA_data$wfd_bcpct_const, 
                                WA_data$rep_pres_vote, WA_data$DsenRace, WA_data$open_seat))

colnames(controls) <- c("Ideology", "District Size", "Urbanization", 
                             "African American Pop.",
                             "Hispanic Pop.", "Foreign Born Pop.", 
                             "Relative Income in District",
                             "College Educated Pop.", "School Age Children", 
                             "Blue Collar Workers Pop.", 
                             "Republican Pres. Vote in District",
                             "State Senate Race in District", "Open Seat Race")

stargazer(controls,
          title = "Summary Statistics on Model Control Variables",
          type = "latex", align = TRUE, no.space = TRUE)
```

To see how pretty these tables can actually be, though, we need to modify the code to produce LaTeX outputs, and put that code into Overleaf.

```{r latex_code}
stargazer(controls,
          title = "Summary Statistics on Model Control Variables",
          type = "latex", align = TRUE, no.space = TRUE)

stargazer(model1, model2, model3, model4, 
          title = "Model Comparisons of Different Dependent Variable Formulations",
          dep.var.labels = "Count of female challenger candidates, by district",
          covariate.labels=c("Female Incumbents, Dummy",
                             "Female Incumbents, Count",
                             "Fem. Incum. Candidates, Count",
                             "Fem. Incum. Lame Ducks, Count",
                             "Years of Fem. Incum. Since 1981",
                             "District Ideology", "District Size", "Urbanization", 
                             "African American Pop.",
                             "Hispanic Pop.", "Foreign Born Pop.", "Relative Income in District",
                             "College Educated Pop.", "% School Age Children", 
                             "Blue Collar Workers Pop.", 
                             "Republican Presidential Vote in District",
                             "Open Seat Race in District", "State Senate Race in District"),
          type = "latex", align = TRUE, no.space = TRUE)
```

