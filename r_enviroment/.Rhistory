install.packages(gapminder)
install.packages("gapminder")
ages("magrittr") #if needed
install.packages("dplyr") #if needed
install.packages("magrittr") #if needed
brary("dplyr")
library("gapminder")
library("magrittr")
install.packages("dplyr") #if needed
library("dplyr")
library("magrittr")
library("gapminder")
data()
glimpse(gapminder)  #another function that allows you
filter(gapminder, lifeExp < 29)
filter(gapminder, lifeExp > 80)
filter(gapminder, lifeExp == 45)
two_countries <- filter(gapminder,
country == "Rwanda" | country == "Afghanistan")
two_countries
View(two_countries)
#Comma in dplyr is basically like an "&" operator
#Just prints, does not save
?filter
gapminder %>%
filter(country == "Cambodia")
gapminder %>%
select(year, lifeExp) %>%
head(10)
gapminder %>%
filrer(country == "Cambodia")
select(year, lifeExp) %>%
head(10)
gapminder %>%
filrer(country == "Cambodia")
select(year, lifeExp) %>%
head(10)
gapminder %>%
filrer(country == "Cambodia") %>%
select(year, lifeExp) %>%
head(10)
gapminder %>%
filtyer(country == "Cambodia") %>%
select(year, lifeExp) %>%
head(10)
gapminder %>%
filter(country == "Cambodia") %>%
select(year, lifeExp) %>%
head(10)
gapminder %>%
filter(country == "Cambodia") %>%
select(year, lifeExp) %>%
head(10)
asian_pop <- gapminder %>% filter(continent == "Asia" & year == 1988)
asian_pop <- gapminder %>% filter(continent == "Asia" & year == 1977)
asia_pop <- gapminder %>% filter(continent == "Asia" & year == 1977)
asia_pop
asia_pop <- gapminder %>% filter(continent == "Asia" & year == 1977) %>% select(countries)
asia_pop <- gapminder %>% filter(continent == "Asia" & year == 1977) %>% select(country)
asia_pop
asia_pop <- gapminder %>% filter(continent == "Asia" & year == 1977) %>% select(country) %>% unique()
asia_pop
rm(asian_pop)
asia_pop
asia_pop <- gapminder %>% filter(continent == "Asia", year == 1977) %>% select(country) %>% unique()
asia_pop
View(asia_pop)
asia_pop <- gapminder %>% filter(continent == "Asia", year == 1977) %>% select(country, population) %>% unique()
asia_pop <- gapminder %>% filter(continent == "Asia", year == 1977) %>% select(country, pop) %>% unique()
asia_pop
View(asia_pop)
asia_pop <- gapminder %>% filter(year == 1977, continent == "Asia") %>% select(country, population) %>% unique()
asia_pop <- gapminder %>% filter(continent == "Asia", year == 1977) %>% select(country, pop) %>% unique()
asia_pop <- gapminder %>% filter(year == 1977, continent == "Asia") %>% select(country, population) %>% unique()
asia_pop <- gapminder %>% filter(year == 1977, continent == "Asia") %>% select(country, pop) %>% unique()
asia_pop
table(asia_pop)
asia_pop <- gapminder %>% filter(year == "1977", continent == "Asia") %>% select(country, pop) %>% unique()
asia_pop
new_gap <- gapminder %>%
mutate(gdp = pop * gdpPercap)
summary(new_gap$gdp)
new_gap
options(scipen=999)  #to revert back to scientific
new_gap
summary(new_gap$gdp)
new_gap <- new_gap %>%
rename(life_exp = lifeExp, #new name comes first
gdp_percap = gdpPercap)
new_gap
new_gap %>% summarize(avg_life_exp = mean(life_exp))
new_gap
?summarise
new_gap %>%
group_by(country) %>%
summarize(avg_life_exp = mean(life_exp))
new_gap %>%
group_by(country) %>%
summarize(avg_life_exp = mean(life_exp)) %>%
order_byavg_life_exp)
new_gap %>%
group_by(country) %>%
summarize(avg_life_exp = mean(life_exp)) %>%
order_by(avg_life_exp)
new_gap %>%
group_by(country) %>%
summarize(avg_life_exp = mean(life_exp)) %>%
arrange(avg_life_exp)
install.packages("tidyr")
library(ggplot2)
library(gapminder)
data(gapminder)
ggplot(gapminder, aes(x = gdpPercap)) + geom_histogram()
ggplot(gapminder, aes(x = year, y = gdpPercap)) +
geom_point()
ggplot(gapminder, aes(x = year, y = gdpPercap)) +
geom_point() +
geom_smooth()
ggplot(gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point() +
geom_smooth()
ggplot(gapminder, aes(x = continent, y = gdpPercap)) +
geom_boxplot()
plot1 <- ggplot(gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point(aes(colour = continent), size = .75) +
geom_smooth(colour = "black") +
theme_minimal(base_size = 14) +
labs(x = "Life Expectancy", y = "GDP Per Capita",
title = "Relationship Between GDP (per capita) and Life Expectancy") +
theme(plot.title = element_text(hjust = 0.5)) +
scale_colour_discrete(name = "Continent") +
scale_y_continuous(breaks=c(30000, 60000, 90000),
labels=c("$30,000", "$60,000", "$90,000"))
plot1
?theme_minimal
?scale_colour_discrete
plot1 <- ggplot(gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point(aes(colour = continent), size = .75) +
geom_smooth(colour = "black") +
theme_minimal(base_size = 14) +
labs(x = "Life Expectancy", y = "GDP Per Capita",
title = "Relationship Between GDP (per capita) and Life Expectancy") +
theme(plot.title = element_text(hjust = 0.5)) +
scale_y_continuous(breaks=c(30000, 60000, 90000),
labels=c("$30,000", "$60,000", "$90,000"))
plot1
plot1 <- ggplot(gapminder, aes(x = lifeExp, y = gdpPercap)) +
geom_point(aes(colour = continent), size = .75) +
geom_smooth(colour = "black") +
theme_minimal(base_size = 14) +
labs(x = "Life Expectancy", y = "GDP Per Capita",
title = "Relationship Between GDP (per capita) and Life Expectancy") +
theme(plot.title = element_text(hjust = 0.5)) +
scale_colour_discrete(name = "Continent") +
scale_y_continuous(breaks=c(30000, 60000, 90000),
labels=c("$30,000", "$60,000", "$90,000"))
plot1
ggsave(filename = "lab4_plot.png", plot = plot1)
getwd()
setwd("~/Documents/CAPPP/r_enviroment/")
?boxplot
library(tidyr) #install if needed
library(dplyr)
messy <- data.frame(
country = c("Sweden", "Norway", "Denmark"),
pop_1980 = c(21, 30, 42),
pop_1990 = c(28, 36, 47)
)
messy #what makes this dataset messy?
clean <- messy %>%
gather(year, population, pop_1980:pop_1990)
clean
clean <- clean %>%
separate(year, c("junk", "year")) %>%
select(country, year, population)
clean
messy #what makes this dataset messy?
messy2 <- data.frame(
year = c("1980", "1990"),
Sweden = c(21, 28),
Norway = c(30, 36),
Denmark = c(42, 47)
)
messy2 #what's going on here?
messy2
messy2 %>% gather(country, population, Sweden:Denmark)
?gather
vignette("pivot")
messy3 <- clean %>%
mutate(temp_type = c(rep("min_temp", 4), rep("max_temp", 2))) %>%
mutate(temp = c(12, 4, 7, 19, 88, 101))
messy3
messy3 %>% spread(temp_type, temp)
messy1
messy
clean_p <- messy %>% pivot_longer(-country, year, population)
clean_p <- messy %>% pivot_longer(-country, names_to = "year", values_to = "count")
clean_p
clean_p <- messy %>% pivot_longer(-country, names_to = "year", values_to = "count", names_pattern = "pop_(.*)")
clean_p
messy2
clean_p <- messy %>% pivot_longer(-year, names_to = "country", values_to = "population")
clean_p
clean_p <- messy2 %>% pivot_longer(-year, names_to = "country", values_to = "population")
clean_p
